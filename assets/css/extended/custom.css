/* Custom CSS for Turbo AI Blog - Theme Aware */

:root {
    --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-family-code: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    --main-width: 1000px;
}

body {
    font-family: var(--font-family-base);
}

/* -----------------------------------------
   Layout & Spacing Adjustments
   ----------------------------------------- */

/* Reduce gap between nav and content */
.main {
    margin-top: 40px !important; /* Default is often larger */
}

/* Profile Mode Adjustments */
.profile {
    max-width: 600px !important; /* Increased from default */
    margin: 0 auto;
    padding: 0 20px;
}

.profile .profile_inner {
    width: 100%;
}

/* Ensure images in profile scale well */
.profile img {
    max-width: 100%;
    height: auto;
}

/* Ensure code blocks look good in both modes */
.post-content pre {
    background-color: var(--code-bg) !important;
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 1em;
    overflow-x: auto;
}

code, pre, kbd {
    font-family: var(--font-family-code);
    font-size: 0.9em;
}

/* Headers */
.header {
    background: transparent !important;
    border-bottom: 1px solid var(--border);
}

h1, h2, h3, h4, h5, h6 {
    color: var(--primary);
    font-weight: 600;
}

/* =========================================
   Scientific Table Design (Booktabs Style)
   ========================================= */

/* The Scrollable Wrapper (Added by JS) */
.table-wrapper {
    margin: 2rem 0;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    /* No border or shadow on wrapper */
}

/* Base Table Styles */
table {
    border-collapse: collapse;
    width: max-content;
    min-width: 100%;
    margin: 0;
    font-size: 0.9rem;
    color: var(--primary);
    line-height: 1.5;
    font-feature-settings: "tnum";
    /* Booktabs style: Thick bottom border */
    border-bottom: 2px solid var(--primary);
}

/* Table Headers */
table thead tr {
    /* Booktabs style: Thick top border */
    border-top: 2px solid var(--primary);
    /* Booktabs style: Distinct bottom border for header */
    border-bottom: 1px solid var(--primary); 
    background-color: transparent;
}

table th {
    font-weight: 600;
    text-transform: none; /* Sentence case preferred in academia */
    font-size: 0.85rem;
    color: var(--primary);
    padding: 10px 16px;
    text-align: left;
    vertical-align: bottom;
    white-space: nowrap;
}

/* Body Cells */
table td {
    padding: 10px 16px;
    border: none;
    /* Light row dividers */
    border-bottom: 1px solid var(--border); 
    vertical-align: top;
}

/* Remove border from last row */
table tbody tr:last-child td {
    border-bottom: none;
}

/* Very subtle striping for readability on wide tables */
table tbody tr:nth-of-type(even) {
    background-color: rgba(127, 127, 127, 0.04);
}

table tbody tr:hover {
    background-color: rgba(127, 127, 127, 0.08);
}

/* -----------------------------------------
   Pandas Dataframe Specifics
   ----------------------------------------- */

.dataframe {
    border: none;
}

/* Hide Index Column (Requires JS 'has-index' class) */
.dataframe.has-index thead tr th:first-child,
.dataframe.has-index tbody tr th:first-child {
    display: none;
}

/* Ensure Dataframe text colors adapt to theme */
.dataframe * {
    color: var(--primary) !important;
}

/* Reset specific backgrounds */
.dataframe tbody tr {
    background-color: transparent !important;
}

/* Images inside tables */
table img {
    border-radius: 4px;
    max-width: 120px;
    height: auto;
    display: block;
}

/* -----------------------------------------
   Dark Mode Tweaks
   ----------------------------------------- */
body.dark table {
    border-bottom: 2px solid #aaa;
}

body.dark table thead tr {
    border-top: 2px solid #aaa;
    border-bottom: 1px solid #aaa;
}

body.dark table tbody tr:nth-of-type(even) {
    background-color: rgba(255, 255, 255, 0.03);
}

body.dark table tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.08);
}

/* Entry Type Badge */
.entry-type-badge {
    font-size: 12px;
    font-weight: 500;
    padding: 4px 8px;
    border-radius: 6px;
    background-color: var(--tertiary);
    color: var(--primary);
    border: 1px solid var(--border);
    margin-left: 10px;
    white-space: nowrap;
    line-height: 1;
    align-self: center;
}

/* =========================================

   CMD+K Search Modal

   ========================================= */



#search-modal {

    position: fixed;

    top: 0;

    left: 0;

    width: 100vw;

    height: 100vh;

    background: rgba(0, 0, 0, 0.4); /* Darker overlay */

    backdrop-filter: blur(4px);

    z-index: 9999;

    display: flex;

    justify-content: center;

    align-items: flex-start;

    padding-top: 10vh;

    opacity: 0;

    visibility: hidden;

    transition: opacity 0.2s, visibility 0.2s;

}



#search-modal.open {

    opacity: 1;

    visibility: visible;

}



#search-modal .search-content {

    background: var(--entry);

    width: 600px;

    max-width: 90%;

    border-radius: 12px;

    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

    border: 1px solid var(--border);

    display: flex;

    flex-direction: column;

    max-height: 80vh;

    overflow: hidden;

    position: relative;

}



/* Pagefind UI Overrides for PaperMod */

.pagefind-ui {

    width: 100%;

    font-family: var(--font-family-base);

}



.pagefind-ui__form {

    padding: 1rem;

    border-bottom: 1px solid var(--border);

    position: relative;

}



/* Force Magnifying Glass Icon Color */

.pagefind-ui__form::before {

    background-color: var(--primary) !important;

}



.pagefind-ui__search-input {

    background: transparent !important;

    border: none !important;

    font-size: 1.2rem !important;

    font-weight: 500;

    color: var(--primary) !important;

    padding: 0.5rem 0.5rem 0.5rem 2.5rem !important; /* Space for icon */

}



.pagefind-ui__search-input::placeholder {

    color: var(--secondary) !important;

    opacity: 0.7;

}



.pagefind-ui__search-input:focus {

    outline: none !important;

}



.pagefind-ui__search-clear {

    background: transparent !important;

    color: var(--secondary) !important;

}



.pagefind-ui__drawer {

    background: var(--entry);

    overflow-y: auto;

    max-height: 60vh;

    padding: 0 1rem;

}



.pagefind-ui__result {

    border-color: var(--border) !important;

    padding: 1rem 0 !important;

}



.pagefind-ui__result-thumb {

    display: none; /* Hide thumbnails for cleaner look */

}



.pagefind-ui__result-title {

    font-weight: 600 !important;

    font-size: 1.1rem !important;

    color: var(--primary) !important;

}



.pagefind-ui__result-link {

    color: var(--primary) !important;

}



.pagefind-ui__result-excerpt {

    font-size: 0.95rem !important;

    color: var(--secondary) !important;

    margin-top: 0.5rem;

}



/* Highlighted text in results */

.pagefind-ui__result-excerpt mark {

    background-color: rgba(255, 255, 0, 0.3);

    color: inherit;

    border-radius: 2px;

}



body.dark .pagefind-ui__result-excerpt mark {

    background-color: rgba(255, 215, 0, 0.2);

    color: #eee;

}



.pagefind-ui__message {

    color: var(--secondary) !important;

    padding: 1rem !important;

}



/* -----------------------------------------



   Nav Bar "Fake" Search Input Styles



   ----------------------------------------- */







/* Target the specific menu item by its URL href - using more robust selectors */



.menu a[href$="#search"],



#menu a[href$="#search"],



nav a[href$="#search"] {



    display: inline-flex !important;



    align-items: center !important;



    background-color: rgba(127, 127, 127, 0.1) !important;



    border: 1px solid var(--border) !important;



    border-radius: 8px !important;



    padding: 4px 12px !important;



    font-size: 14px !important;



    color: var(--secondary) !important;



    transition: all 0.2s ease !important;



    height: 34px !important;



    box-sizing: border-box !important;



    margin-left: 15px !important;



    text-decoration: none !important;



}







.menu a[href$="#search"]:hover,



#menu a[href$="#search"]:hover,



nav a[href$="#search"]:hover {



    background-color: rgba(127, 127, 127, 0.15) !important;



    border-color: var(--secondary) !important;



    color: var(--primary) !important;



}







/* Add search icon via pseudo-element */



.menu a[href$="#search"]::before,



#menu a[href$="#search"]::before,



nav a[href$="#search"]::before {



    content: "";



    display: inline-block;



    width: 14px;



    height: 14px;



    margin-right: 8px;



    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");



    background-repeat: no-repeat;



    background-position: center;



    background-size: contain;



    opacity: 0.7;



}







/* Dark mode adjustments for Nav Bar Input */



body.dark .menu a[href$="#search"],



body.dark #menu a[href$="#search"],



body.dark nav a[href$="#search"] {



    background-color: rgba(255, 255, 255, 0.08) !important;



    color: #bbb !important;



}







body.dark .menu a[href$="#search"]::before,



body.dark #menu a[href$="#search"]::before,



body.dark nav a[href$="#search"]::before {



    filter: invert(1) brightness(1.5);



}







/* Kbd hint styles inside the fake input */



.search-hint-key {



    border: 1px solid var(--border);



    border-radius: 4px;



    padding: 1px 5px;



    font-size: 11px;



    color: var(--secondary);



    background-color: var(--tertiary);



    margin-left: 10px;



    line-height: 1.2;



    display: inline-block;



    font-family: var(--font-family-code);



    font-weight: 500;



}







body.dark .search-hint-key {



    background-color: rgba(0,0,0,0.3);



    border-color: rgba(255,255,255,0.15);



    color: #888;



}


